(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function i(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(t){if(t.ep)return;t.ep=!0;const o=i(t);fetch(t.href,o)}})();const u=()=>crypto.randomUUID(),s={events:{},on(e,r){this.events[e]||(this.events[e]=[]),this.events[e].push(r)},emit(e,r){this.events[e]&&this.events[e].forEach(i=>i(r))},off(e,r){this.events[e]&&(this.events[e]=this.events[e].filter(i=>i!==r))}},n={plan:"trial",usage:{measure:0,review:0,export:0},region:"randstad",year:"2026",project:null,executionIndex:0};function f(){n.project={id:u(),name:"Nieuw project",executions:[{id:u(),name:"Standaard",elements:[]}]},s.emit("state:initialized",n)}const d="calqtool_autosave";function p(){try{localStorage.setItem(d,JSON.stringify(n))}catch(e){console.warn("Persist error:",e)}}function h(){try{const e=localStorage.getItem(d);if(!e)return;const r=JSON.parse(e);Object.assign(n,r),s.emit("project:restored",n)}catch(e){console.warn("Restore error:",e)}}function a(){n.lastPayload=null}s.on("project:changed",()=>{p()});s.on("execution:changed",a);s.on("plan:changed",a);s.on("project:loaded",a);f();h();
